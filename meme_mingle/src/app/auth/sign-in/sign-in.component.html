<div class="signin-container">
  <!-- Left: Banner Image -->
  <div class="banner-image"></div>

  <!-- Right: Sign-in Form -->
  <div class="signin-right">
    <div class="card-body">
      <!-- Toggle Buttons -->
      <div class="switch-sign">
        <button
          class="toggle-btn toggle-btn-left"
          [class.active]="isSignInActive"
          (click)="showSignIn()"
        >
          Sign In
        </button>
        <button
          class="toggle-btn toggle-btn-right"
          [class.active]="!isSignInActive"
          (click)="showSignUp()"
        >
          Sign Up
        </button>
      </div>

      <!-- Sign-In Form -->
      <form
        *ngIf="isSignInActive"
        class="signin-form"
        [formGroup]="signInForm"
        (ngSubmit)="onSubmit()"
      >
        <div class="form-group">
          <label for="identifier">Email or Username</label>
          <input
            type="text"
            id="identifier"
            formControlName="identifier"
            placeholder="Enter your email or username"
            [ngClass]="{
              'is-invalid':
                (signInForm.get('identifier')!.touched &&
                  signInForm.get('identifier')!.invalid) ||
                (submitted && signInForm.get('identifier')!.invalid)
            }"
          />
          <small
            class="error-message"
            *ngIf="(signInForm.get('identifier')!.touched || submitted) && signInForm.get('identifier')!.errors?.['required']"
          >
            Email or Username is required.
          </small>
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <div class="password-input">
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              formControlName="password"
              placeholder="Enter your password"
              [ngClass]="{
                'is-invalid':
                  (signInForm.get('password')!.touched &&
                    signInForm.get('password')!.invalid) ||
                  (submitted && signInForm.get('password')!.invalid)
              }"
            />
            <button
              type="button"
              class="toggle-password"
              (click)="togglePasswordVisibility()"
            >
              <i
                class="bi"
                [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"
              ></i>
            </button>
          </div>
          <small
            class="error-message"
            *ngIf="(signInForm.get('password')!.touched || submitted) && signInForm.get('password')!.errors?.['required']"
          >
            Password is required.
          </small>
        </div>

        <div class="form-options">
          <a routerLink="/auth/forgot-password" class="forgot-password"
            >Forgot password?</a
          >
        </div>

        <button type="submit" class="btn btn-primary" [disabled]="isSubmitting">
          {{ isSubmitting ? "Signing in..." : "Sign In" }}
        </button>
      </form>

      <!-- Sign-Up Placeholder -->
      <div *ngIf="!isSignInActive" class="signup-placeholder">
        <h2>Sign Up</h2>
        <!-- Add sign-up form here if needed in future -->
      </div>

      <!-- Divider -->
      <div class="divider">
        <span>OR</span>
      </div>

      <!-- Google Sign-In Button -->
      <button class="btn btn-google" (click)="signInWithGoogle()">
        <i class="bi bi-google"></i> Sign in with Google
      </button>
    </div>
  </div>
</div>
